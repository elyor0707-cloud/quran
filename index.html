<!DOCTYPE html>
<html lang="uz">
<head>
<link rel="manifest" href="manifest.json">
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<meta name="theme-color" content="#020617"/>
<title>Qur'on Ilova</title>

<style>
body{margin:0;font-family:system-ui;background:#0f172a;color:#fff}
header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#020617;position:sticky;top:0}
.logo{font-weight:700}
.hbtn{background:#1e293b;border:none;color:#fff;padding:8px 12px;border-radius:8px;margin-left:6px}
main{padding:16px;max-width:800px;margin:auto}
.card{background:#020617;border:1px solid #1e293b;padding:16px;border-radius:16px;margin-bottom:14px}
.sh-ar{font-size:26px;line-height:1.7}
.btn{background:#22c55e;border:none;color:#022c22;padding:10px 14px;border-radius:10px;margin-top:10px}
select{padding:8px;border-radius:8px;background:#020617;color:#fff;border:1px solid #1e293b}
</style>
</head>
<body>

<header>
<div class="logo">ğŸ“– Qur'on App</div>
<div>
<button class="hbtn" onclick="renderQuran()">Qur'on</button>
<button class="hbtn" onclick="renderAlphabet()">Ø§</button>
<button class="hbtn" onclick="renderRules()">ğŸ“˜</button>
<button class="hbtn" onclick="freeMode()">ğŸ•Š</button>
</div>
</header>

<main id="main"></main>
<audio id="aud"></audio>

<script>
const main=document.getElementById('main');
const aud=document.getElementById('aud');

/* ===================== QURON DATA ===================== */
const QURAN=[
{name:'Al-Fotiha',ayas:[
{a:'Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±Ù‘ÙØ­ÙÙŠÙ…Ù',u:'Bismillahir rohmanir rohim'},
{a:'Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„Ù‘ÙÙ‡Ù Ø±ÙØ¨Ù‘Ù Ø§Ù„Ù’Ø¹ÙØ§Ù„ÙÙ…ÙÙŠÙ†Ù',u:'Alhamdu lillahi robbil alamin'},
{a:'Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±Ù‘ÙØ­ÙÙŠÙ…Ù',u:'Ar rohmanir rohim'},
{a:'Ù…ÙØ§Ù„ÙÙƒÙ ÙŠÙÙˆÙ’Ù…Ù Ø§Ù„Ø¯Ù‘ÙÙŠÙ†Ù',u:'Maliki yawmid din'},
{a:'Ø¥ÙÙŠÙ‘ÙØ§ÙƒÙ Ù†ÙØ¹Ù’Ø¨ÙØ¯Ù',u:'Iyyaka na\'budu'}
]}
];

function renderQuran(){
main.innerHTML=`
<div class="card">
<h2>Qur'on o'qish</h2>
<select id="surah"></select>
</div>
<div id="ayat"></div>`;

const s=document.getElementById('surah');
QURAN.forEach((x,i)=>s.innerHTML+=`<option value="${i}">${x.name}</option>`);
s.onchange=()=>renderAyat(s.value);
renderAyat(0);
}

function renderAyat(i){
const sura=QURAN[i];
const div=document.getElementById('ayat');
div.innerHTML='';
sura.ayas.forEach(ay=>{
const el=document.createElement('div');
el.className='card';
el.innerHTML=`
<div class="sh-ar">${ay.a}</div>
<div>${ay.u}</div>
<button class="btn" onclick="playAI('${ay.a}')">ğŸ¤– AI Qori</button>`;
div.appendChild(el);
});
}

/* ===================== ARABIC ALPHABET ===================== */
const ARABIC_LETTERS=[
{ar:"Ø§",lat:"Alif",tip:"ChoÊ»ziq A"},
{ar:"Ø¨",lat:"Ba",tip:"B"},
{ar:"Øª",lat:"Ta",tip:"T"},
{ar:"Ø«",lat:"Tha",tip:"Til orasidan"},
{ar:"Ø¬",lat:"Jim",tip:"J"},
{ar:"Ø­",lat:"Ha",tip:"Boâ€˜gâ€˜iz H"},
{ar:"Ø®",lat:"Kho",tip:"X"},
{ar:"Ø¯",lat:"Dal",tip:"D"},
{ar:"Ø±",lat:"Ro",tip:"R"},
{ar:"Ø³",lat:"Sin",tip:"S"},
{ar:"Ø´",lat:"Shin",tip:"SH"},
{ar:"Øµ",lat:"Sod",tip:"Qalin S"},
{ar:"Ø¶",lat:"Dod",tip:"Qiyin harf"},
{ar:"Ø·",lat:"To",tip:"Qalin T"},
{ar:"Ø¸",lat:"Zo",tip:"Qalin Z"},
{ar:"Ø¹",lat:"Ayn",tip:"Boâ€˜gâ€˜iz"},
{ar:"Øº",lat:"Gâ€˜ayn",tip:"Gâ€˜"},
{ar:"Ù",lat:"Fa",tip:"F"},
{ar:"Ù‚",lat:"Qof",tip:"Q"},
{ar:"Ùƒ",lat:"Kaf",tip:"K"},
{ar:"Ù„",lat:"Lam",tip:"L"},
{ar:"Ù…",lat:"Mim",tip:"M"},
{ar:"Ù†",lat:"Nun",tip:"N"},
{ar:"Ù‡",lat:"Ha",tip:"H"},
{ar:"Ùˆ",lat:"Vav",tip:"V/U"},
{ar:"ÙŠ",lat:"Ya",tip:"Y"}
];

function renderAlphabet(){
main.innerHTML=`
<div class="card"><h2>Arab alifbosi</h2></div>
<div class="card">${ARABIC_LETTERS.map(l=>`
<div style="display:flex;gap:20px;align-items:center;margin-bottom:12px">
<div style="font-size:34px">${l.ar}</div>
<div><b>${l.lat}</b><div style="opacity:.7">${l.tip}</div></div>
</div>`).join('')}</div>`;
}

/* ===================== RULES ===================== */
function renderRules(){
main.innerHTML=`
<div class="card">
<h2>Qur'on oâ€˜qish qoidalari</h2>
<h3>Harakatlar</h3>
<p>Fatha = a | Kasra = i | Damma = u</p>
<h3>Madd</h3>
<p>Choâ€˜zish: aa ii uu</p>
<h3>Qalin harflar</h3>
<p>Øµ Ø¶ Ø· Ø¸ Ù‚ Øº Ø®</p>
<h3>Qalqala</h3>
<p>Ù‚ Ø· Ø¨ Ø¬ Ø¯</p>
</div>`;
}

/* ===================== AI QORI ===================== */
function playAI(text){
const url=`https://api.streamelements.com/kappa/v2/speech?voice=Brian&text=${encodeURIComponent(text)}`;
aud.src=url;
aud.play();
}

/* ===================== FREE MODE ===================== */
function freeMode(){
alert("Mustaqil Qur'on oâ€˜qish rejimi yoqildi ğŸŒ™");
localStorage.setItem('free_mode','1');
}

renderQuran();
</script>
  <script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js');
}
</script>
</body>

</html>
